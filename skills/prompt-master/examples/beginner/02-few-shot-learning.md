# 入门示例 2：掌握 Few-shot 示例驱动

## 学习目标
学会使用 Few-shot（示例驱动）技术提升提示词效果

---

## 什么是 Few-shot？

### 定义
在提示词中提供输入-输出对（示例），让 AI 通过示例学习期望的格式和风格。

### 为什么有效？
- ✅ 展示期望的输出格式
- ✅ 传达难以用语言描述的风格
- ✅ 减少歧义，提高一致性

### 适用场景
- 格式化任务（JSON、表格等）
- 风格转换（正式、幽默等）
- 翻译任务
- 数据处理

---

## 场景 1：结构化输出

### 问题
你需要 AI 以特定格式提取信息

### ❌ 无示例版本
```
"从以下文本中提取：名称、价格、颜色

文本：iPhone 15 Pro 售价 $999，有深空黑、银色、金色和暗紫色"
```

**AI 可能的输出**：
```
名称：iPhone 15 Pro
价格：$999
颜色：深空黑、银色、金色、暗紫色
```

格式看似OK，但不够结构化，难以程序处理。

### ✅ Few-shot 版本
```
"从以下文本中提取：名称、价格、颜色

示例 1：
输入：MacBook Air M2 售价 $1199，有午夜色、星光色、灰色、银色
输出：
{
  "name": "MacBook Air M2",
  "price": "$1199",
  "colors": ["midnight", "starlight", "gray", "silver"]
}

示例 2：
输入：iPad Pro 12.9英寸 售价 $1099，有深空灰和银色
输出：
{
  "name": "iPad Pro 12.9",
  "price": "$1099",
  "colors": ["space gray", "silver"]
}

现在处理：
输入：iPhone 15 Pro 售价 $999，有深空黑、银色、金色和暗紫色
输出："
```

**AI 的输出**：
```json
{
  "name": "iPhone 15 Pro",
  "price": "$999",
  "colors": ["深空黑", "银色", "金色", "暗紫色"]
}
```

**改进效果**：
- ✅ 格式一致（JSON）
- ✅ 易于程序处理
- ✅ 字段名称统一

---

## 场景 2：风格转换

### 问题
让 AI 以特定风格重写文本

### ❌ 无示例版本
```
"将以下文本重写为更正式的商务风格：
嘿，我昨天看了你们的产品，感觉还不错，想聊聊合作的事。"
```

**AI 可能的输出**：
```
尊敬的合作伙伴，我已审阅贵方产品，颇为赞赏，
希望能就合作事宜进行深入探讨。
```

还可以，但风格可能不够具体。

### ✅ Few-shot 版本
```
"将以下文本重写为更正式的商务风格：

示例 1：
输入：这项目挺好的，我觉得能赚钱。
输出：经过深入评估，我们认为该项目具有良好的盈利潜力和投资价值。

示例 2：
输入：咱们啥时候见面聊聊？
输出：请问您方便安排一次会面，以详细讨论合作细节？

示例 3：
输入：我明天就把合同发给你。
输出：我将于明日正式向贵方提交合同草案。

现在处理：
输入：嘿，我昨天看了你们的产品，感觉还不错，想聊聊合作的事。
输出："
```

**AI 的输出**：
```
经过对贵方产品的审慎评估，我对产品质量和市场前景
表示认可，希望能就潜在合作机会进行进一步洽谈。
```

**改进效果**：
- ✅ 专业术语一致（"审慎评估"、"贵方"）
- ✅ 语气正式但不生硬
- ✅ 结构完整

---

## 场景 3：翻译任务

### 问题
保持翻译的风格和语气

### ❌ 无示例版本
```
"将以下中文翻译成英文：
这个产品真是太棒了！我超级喜欢！"
```

**AI 可能的输出**：
```
This product is really great! I like it very much!
```

**问题**：丢失了原句的热情和强调语气。

### ✅ Few-shot 版本
```
"将以下中文翻译成英文，保持原句的语气和强调：

示例 1：
输入：太棒了！🎉
输出：Absolutely amazing! 🎉

示例 2：
输入：我超级超级喜欢这个！
输出：I absolutely LOVE this!

示例 3：
输入：简直就是完美的！
输出：It's simply PERFECT!

现在处理：
输入：这个产品真是太棒了！我超级喜欢！
输出："
```

**AI 的输出**：
```
This product is absolutely amazing! I absolutely LOVE it!
```

**改进效果**：
- ✅ 保留了热情语气
- ✅ 使用了强调词（absolutely, LOVE）
- ✅ 感叹号传达情绪

---

## 💡 Few-shot 最佳实践

### 1. 提供足够的示例
```
太少（1-2个）→ 可能不够
刚好（3-5个）→ ✅ 推荐
太多（10+个）→ 消耗token，收益递减
```

### 2. 示例要多样化
```
✅ 好的示例：
- 覆盖不同场景
- 包含边界情况
- 展示错误处理

❌ 不好的示例：
- 所有示例都一样
- 只展示简单情况
- 缺少异常处理
```

### 3. 使用清晰的格式
```
✅ 好的格式：
示例 1：
输入：...
输出：...

示例 2：
输入：...
输出：...

❌ 不好的格式：
输入：... 输出：... 输入：... 输出：...
```

### 4. 标注示例的结构
```
输入：[清晰标注]
输出：[清晰标注]

或使用代码块：
```text
输入：...
输出：...
```
```

---

## 🎯 实战练习

### 练习 1：情感分析

创建一个情感分析提示词，使用 Few-shot 技术

<details>
<summary>查看参考答案</summary>

```
"分析以下文本的情感：积极、消极或中立

示例 1：
输入：今天天气真好！
输出：积极

示例 2：
输入：服务态度太差了，再也不来了。
输出：消极

示例 3：
输入：会议在下午3点开始。
输出：中立

示例 4：
输入：产品质量超出预期，非常满意！
输出：积极

现在分析：
输入：虽然产品不错，但价格有点贵。
输出："
```

**答案**：中立或混合（包含积极和消极）
</details>

---

### 练习 2：数据格式化

创建一个提示词，将非结构化文本转换为结构化数据

<details>
<summary>查看参考答案</summary>

```
"将订单信息转换为JSON格式：

示例 1：
输入：订单123，张三买了2个iPhone，总价$1998
输出：
{
  "orderId": "123",
  "customer": "张三",
  "items": [
    {"product": "iPhone", "quantity": 2}
  ],
  "total": "$1998"
}

示例 2：
输入：订单456，李四买了1台MacBook和2个鼠标，总价$2497
输出：
{
  "orderId": "456",
  "customer": "李四",
  "items": [
    {"product": "MacBook", "quantity": 1},
    {"product": "鼠标", "quantity": 2}
  ],
  "total": "$2497"
}

现在处理：
输入：订单789，王五买了3个iPad，总价$2397
输出："
```
</details>

---

### 练习 3：摘要生成

创建一个提示词，生成特定长度和风格的摘要

<details>
<summary>查看参考答案</summary>

```
"将文章总结为一句话（不超过20字）：

示例 1：
输入：苹果公司今天发布了新款iPhone 15系列，共有四款机型，
    起售价799美元，配备钛金属边框和USB-C接口。
输出：iPhone 15系列发布，起售价799美元。

示例 2：
输入：特斯拉宣布将在德国建造新工厂，预计投资50亿欧元，
    创造12000个就业岗位，2025年投产。
输出：特斯拉将投50亿欧元在德建厂。

示例 3：
输入：NASA的毅力号火星车成功在火星着陆，将寻找古代
    生命迹象，收集样本并返回地球。
输出：毅力号火星车成功着陆火星。

现在总结：
输入：微软宣布以687亿美元收购动视暴雪，这是游戏史上
    最大规模的收购交易，预计2023年完成。
输出："
```

**答案**：微软687亿美元收购动视暴雪。
</details>

---

## 🚀 进阶技巧

### 技巧 1：渐进式示例
```
简单示例 → 中等示例 → 复杂示例

示例 1：
输入：2 + 2 = ?
输出：4

示例 2：
输入：(3 + 5) × 2 = ?
输出：16

示例 3：
输入：如果 x = 5，求 (x² + 3) / 2
输出：(25 + 3) / 2 = 14
```

### 技巧 2：错误示例
```
展示错误做法，避免AI犯同样错误

❌ 错误示例：
输入：Hello World
输出：HELLO WORLD  # 全大写是不对的

✅ 正确示例：
输入：Hello World
输出：Hello World  # 保持原大小写
```

### 技巧 3：思维链示例
```
不仅给答案，还展示推理过程

示例：
输入：3 × 4 + 5 = ?
输出：
第一步：3 × 4 = 12
第二步：12 + 5 = 17
答案：17
```

---

## 📚 学习总结

### 核心要点
1. **Few-shot = 示例驱动**：通过示例学习
2. **提供 3-5 个示例**：太多太少都不好
3. **示例要多样化**：覆盖不同情况
4. **格式要清晰**：便于 AI 理解

### 常见错误
- ❌ 示例太少（1-2个）
- ❌ 所有示例都一样
- ❌ 格式混乱
- ❌ 没有标注输入输出

### 相关技术
- **Zero-shot**：无示例，纯描述
- **One-shot**：只有1个示例
- **Few-shot**：3-5个示例 ✅ 推荐
- **Many-shot**：10+个示例

---

## 下一步

恭喜你掌握了 Few-shot 技术！

**继续学习**：
- 📖 入门示例3：结构化输出技术
- 📚 技术详解：Few-shot 深度解析
- 🎯 进阶示例：组合多种技术

**记住**：示例胜过千言万语！一个好的示例比详细的描述更有效。
