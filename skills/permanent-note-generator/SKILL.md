---
name: permanent-note-generator
description: 从文章中自动提取并生成符合 Zettelkasten 方法论的永久笔记。用于处理文章，识别5种核心笔记类型（观点/论点、概念/定义、事实/证据、方法/流程、思维模型/原则），并按照原子性、独立性原则生成高质量的永久笔记。当用户需要从文章、书籍或其他材料中提取永久笔记时使用此技能。
---

# 永久笔记生成器

## 核心任务

从用户提供的文章中识别并提取有价值的知识点，转化为符合 Zettelkasten 方法论的永久笔记。每条笔记必须遵循原子性原则（一个笔记只包含一个想法），并确保语境独立、可独立理解。

## 工作流程

### 1. 检查处理历史 (Check History)

在开始处理前，必须检查 `.claude/skills/permanent-note-generator/data/processed_history.md` 文件：
- 读取该文件内容。
- 检查目标文章的文件名或标题是否已存在于列表中。
- **如果是**：告知用户该文章在何时已处理过，询问是否“跳过”或“重新处理”。
  - 如果用户选择跳过，结束任务。
  - 如果用户选择重新处理，继续下一步。
- **如果否**：直接进入下一步。

### 2. 阅读与理解文章

- 仔细阅读用户提供的文章全文
- 识别文章中的核心论点、关键概念、重要证据、实用方法和思维模型
- 理解每个知识点的上下文和含义

### 2. 识别笔记类型并提取内容

必须先阅读 `references/永久笔记内容类型.md`，了解笔记类型的要求：
对每个识别出的知识点，判断其属于哪种类型，并标注 `content_type`。

### 3. 应用写作规范

必须先阅读 `references/永久笔记写作规范.md`，确保每条笔记符合写作要求：


### 4. 生成永久笔记文件

必须先阅读 `assets/永久笔记模板.md` 为每条笔记创建独立的 Markdown 文件：
文件必须采用中文


### 6. 批量输出与记录

- 一次性生成所有识别出的永久笔记
- 必须每条笔记保存为独立的 .md 文件
- **更新历史记录**：将处理过的文章信息追加写入到 `.claude/skills/permanent-note-generator/data/processed_history.md` 文件中。
  - 格式建议：`- [YYYY-MM-DD] [[文章标题]] (路径: 文章文件路径)`
- 在最后提供一个生成摘要，列出所有生成的笔记及其类型，并确认已更新历史记录。

## 质量检查清单

在生成每条笔记前，确认：

- [ ] 笔记是否只包含一个核心想法？
- [ ] 脱离原文是否仍然可以理解？
- [ ] 是否使用了完整的句子而非关键词？
- [ ] 是否用自己的话重写而非复制原文？
- [ ] 标题是否具体且描述性强？
- [ ] content_type 是否正确标注？
- [ ] 是否填写了所有必要的 frontmatter 字段？

## 用户交互

**输入：**
- 用户提供文章内容（可以是文本、文件路径或 URL）

**输出：**
- 多个独立的永久笔记 .md 文件
- 生成摘要（包含笔记数量、类型分布、文件列表）

**示例对话：**
```
用户：请帮我从这篇文章中生成永久笔记 [提供文章]
助手：[阅读文章并分析] 我从这篇文章中识别出了 8 条永久笔记：
- 3 条观点/论点笔记
- 2 条概念/定义笔记
- 2 条事实/证据笔记
- 1 条思维模型/原则笔记

现在为您生成这些笔记...
[生成所有笔记文件]
```

## 注意事项

1. **保持中立性**：在生成概念和事实类笔记时，确保客观陈述，不添加个人观点
2. **避免过度拆分**：不要将自然关联的内容强行拆分，但也要确保原子性
3. **重视可组合性**：生成的笔记应该能够与其他主题的笔记进行链接和组合
